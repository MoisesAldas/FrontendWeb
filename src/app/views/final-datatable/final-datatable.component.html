<app-navbar></app-navbar>

<app-navbar></app-navbar>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
<div class="landing-page">
  <div class="landing-page-content">
    <header class="table-responsive">
      <h1>Pagos de Game Galaxy</h1>
      <p>
        se mostraran los pagos de los clientes
      </p>
    </header>
  </div>
</div>

<!-- Modal para previsualizar el comprobante -->
<div id="modalComprobante" class="modal" [ngClass]="{'show': mostrarModal}" (click)="cerrarModal($event)">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <span class="close" (click)="cerrarModal()">&times;</span>
    <img [src]="imagenSeleccionada" alt="Comprobante" style="max-width: 100%; max-height: 100%;">
  </div>
</div>

<div class="container p-4 contenedor">
  <h1 class="text-3xl font-bold mb-6 text-green-800 text-center compra">
    Detalle Compra
  </h1>
  <div class="overflow-x-auto bg-gray-50 rounded-2xl shadow-md">
    <p-table [value]="clientes" [paginator]="true" [rows]="10">
      <ng-template pTemplate="header">
        <tr class="bg-green-800 text-white text-left tableborder">
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Nombre
          </th>
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Cédula
          </th>
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Email
          </th>
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Teléfono
          </th>
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Total a Pagar
          </th>
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Comprobante
          </th>
          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Estado
          </th>

          <th class="px-4 py-2 border-b-2 border-gray-200 text-xs font-semibold text-center">
            Acciones
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-cliente let-rowIndex="rowIndex">
        <tr class="hover:bg-gray-100">
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            {{ cliente.nombre }}
          </td>
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            {{ cliente.cedula }}
          </td>
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            {{ cliente.email }}
          </td>
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            {{ cliente.telefono }}
          </td>
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            {{ cliente.precio }}
          </td>
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            <img [src]="cliente.imagenUrl" alt="Comprobante" style="max-width: 100px; max-height: 100px;">
          </td>
          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            {{ cliente.estado }}
          </td>

          <td class="px-4 py-2 border-b border-gray-200 text-xs text-center">
            <button class="flex items-center botones text-white font-bold py-1 px-3 rounded hover:bg-green-700 mx-auto"
              (click)="aceptarCliente(cliente)">
              <i class="fas fa-check mr-1"></i> Aceptar
            </button>
            <button class="flex items-center botones text-white font-bold py-1 px-3 rounded hover:bg-green-700 mx-auto"
            (click)="denegarCliente(cliente)">
            <i class="fas fa-check mr-1"></i> Denegar
          </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
